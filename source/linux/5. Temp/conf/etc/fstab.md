fstab - static information about the filesystems

The file fstab contains descriptive information about the filesystems the system can mount. fstab is only read by programs, and not
       written; it is the duty of the system administrator to properly create and maintain this file. The order of records in fstab is
       important because fsck(8), mount(8), and umount(8) sequentially iterate through fstab doing their thing.

       Each filesystem is described on a separate line. Fields on each line are separated by tabs or spaces. Lines starting with '#' are
       comments. Blank lines are ignored.

       The following is a typical example of an fstab entry:

           LABEL=t-home2   /home      ext4    defaults,auto_da_alloc      0  2

<file system> <mount point> <type> <options> <dump> <pass>

type - тип файловой системы, напмример, ext4

options - опции монтирования ФС
auto - файловая система должна монтироваться автоматически при загрузке Опция используется по умолчанию, поэтому ее указывать не обязательно

noauto - ФС не монтируется при загрузке системы

defaults - используется мстандартный набор опцияй, установленных по умолчанию

exec - разреает заупск исполняемых файлов для этой фс . опция используется по умолчанию.

noexec - запрещает запуск исполняемых файлов для этой фс

ro - монтирование в режиме "только чтение" 

rw - монтирование в режиме "чтение/запись". используесят по умолачнию для фс, поддерживающих запись 

user - эту ФС разрешается монтировать /размонтировать обычному пользователю

nouser - фйаловую систему может монтировать только root. Исполся по умолчанию

umask -  определяет маску прав доступа при создании файлов. Для не линукс-подобных ФС маску нужно установить umask=0

dump - флаг резервного копирования. Если он установлен (1), то программа dump заархивирует эту файловую систему при создании резервной копии. 

pass - флаг проверки. Устанавливает (1), будет ли эта файловая система проверяться на наличие ошибок программой fsck. Проверка производится в двух случаях:
1. если файловая система размонтирована некорректно
2. если достигнуто максимальное число операций монтирования для этой файловой системы.


example
UUID=8d2c4aae-662e-44b1-8cbc-d70a08b0f88d /var ext4 defaults 0 1

notes 
файловая система постоянна, поэжтому можно явно указать тиап файловой системы (ext4), а не auto.

узнать uuid имена устройство можно с помощью просто йок амнды

ls -l /dev/disk/by-uuid


при изменении параметров подключения накопителей изменяется и короткое имя устройсвтва (/dev/sda). При использовании же длинных имен идентификаторов (uuid) накопителей остается постоянным вне зависимсоти от типа подключения устройства к конктроллеру.

ls -l /dev/disk/by-uuid/ - длинное имя составляется по uuid

ls -l /dev/disk/by-id/ - апаратный идентификтаор устройства

ls -l /dev/disk/by-label/ - по метке устройства


Настройка жрунала файловой системы ext3/4

Журналируемая файловая система имеет три режима работы: journal, ordered и writeback. Первый режим самый медленный, но он позволяет минимизировать потери данных в случае сбоя системы или отклбчения питания. В режимме journal в системный журнал записывается все, что только можно, и это позволяет максимально восстановить ФС в случае сбоя.

В послеовательном режиме (ordered) в жрунал заносится информация только об изменении метаданных (служебных данных ФС). Этот режим исполся по умолачнию и явся компромиссным вариантом между производительностью и отказоустойчисвотсью. Если отказоустойчисовтсь для вас на первом месте - выбирайте режим journal, во всех остальных случаях лучше выбрать ordered. Выбор режима осущеся редактированием файла /etc/fstab

UUID=8d2c4aae-662e-44b1-8cbc-d70a08b0f88d /var ext4 defaults,data=journal 0 2